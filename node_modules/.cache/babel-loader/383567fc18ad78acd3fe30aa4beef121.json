{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createMiddleware;\nexports.getState = exports.dispatch = void 0;\n\nvar _effects = require(\"./effects\");\n\nvar _hook = require(\"./hook\");\n\nfunction warning() {\n  throw new Error('You are calling \"dispatch\" or \"getState\" without applying mirrorMiddleware! ' + 'Please create your store with mirrorMiddleware first!');\n}\n\nvar dispatch = warning;\nexports.dispatch = dispatch;\nvar getState = warning;\nexports.getState = getState;\n\nfunction createMiddleware() {\n  return function (middlewareAPI) {\n    exports.dispatch = dispatch = middlewareAPI.dispatch;\n    exports.getState = getState = middlewareAPI.getState;\n    return function (next) {\n      return function (action) {\n        var result = next(action);\n\n        if (typeof _effects.effects[action.type] === 'function') {\n          result = _effects.effects[action.type](action.data, getState);\n        }\n\n        _hook.hooks.forEach(function (hook) {\n          return hook(action, getState);\n        });\n\n        return result;\n      };\n    };\n  };\n}","map":{"version":3,"sources":["/Users/admin/Desktop/鹤影/newapp/node_modules/_mirrorx@0.2.13@mirrorx/lib/middleware.js"],"names":["Object","defineProperty","exports","value","default","createMiddleware","getState","dispatch","_effects","require","_hook","warning","Error","middlewareAPI","next","action","result","effects","type","data","hooks","forEach","hook"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,gBAAlB;AACAH,OAAO,CAACI,QAAR,GAAmBJ,OAAO,CAACK,QAAR,GAAmB,KAAK,CAA3C;;AAEA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AAEA,IAAIC,KAAK,GAAGD,OAAO,CAAC,QAAD,CAAnB;;AAEA,SAASE,OAAT,GAAmB;AACjB,QAAM,IAAIC,KAAJ,CAAU,iFAAiF,uDAA3F,CAAN;AACD;;AAED,IAAIL,QAAQ,GAAGI,OAAf;AACAT,OAAO,CAACK,QAAR,GAAmBA,QAAnB;AACA,IAAID,QAAQ,GAAGK,OAAf;AACAT,OAAO,CAACI,QAAR,GAAmBA,QAAnB;;AAEA,SAASD,gBAAT,GAA4B;AAC1B,SAAO,UAAUQ,aAAV,EAAyB;AAC9BX,IAAAA,OAAO,CAACK,QAAR,GAAmBA,QAAQ,GAAGM,aAAa,CAACN,QAA5C;AACAL,IAAAA,OAAO,CAACI,QAAR,GAAmBA,QAAQ,GAAGO,aAAa,CAACP,QAA5C;AACA,WAAO,UAAUQ,IAAV,EAAgB;AACrB,aAAO,UAAUC,MAAV,EAAkB;AACvB,YAAIC,MAAM,GAAGF,IAAI,CAACC,MAAD,CAAjB;;AAEA,YAAI,OAAOP,QAAQ,CAACS,OAAT,CAAiBF,MAAM,CAACG,IAAxB,CAAP,KAAyC,UAA7C,EAAyD;AACvDF,UAAAA,MAAM,GAAGR,QAAQ,CAACS,OAAT,CAAiBF,MAAM,CAACG,IAAxB,EAA8BH,MAAM,CAACI,IAArC,EAA2Cb,QAA3C,CAAT;AACD;;AAEDI,QAAAA,KAAK,CAACU,KAAN,CAAYC,OAAZ,CAAoB,UAAUC,IAAV,EAAgB;AAClC,iBAAOA,IAAI,CAACP,MAAD,EAAST,QAAT,CAAX;AACD,SAFD;;AAIA,eAAOU,MAAP;AACD,OAZD;AAaD,KAdD;AAeD,GAlBD;AAmBD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createMiddleware;\nexports.getState = exports.dispatch = void 0;\n\nvar _effects = require(\"./effects\");\n\nvar _hook = require(\"./hook\");\n\nfunction warning() {\n  throw new Error('You are calling \"dispatch\" or \"getState\" without applying mirrorMiddleware! ' + 'Please create your store with mirrorMiddleware first!');\n}\n\nvar dispatch = warning;\nexports.dispatch = dispatch;\nvar getState = warning;\nexports.getState = getState;\n\nfunction createMiddleware() {\n  return function (middlewareAPI) {\n    exports.dispatch = dispatch = middlewareAPI.dispatch;\n    exports.getState = getState = middlewareAPI.getState;\n    return function (next) {\n      return function (action) {\n        var result = next(action);\n\n        if (typeof _effects.effects[action.type] === 'function') {\n          result = _effects.effects[action.type](action.data, getState);\n        }\n\n        _hook.hooks.forEach(function (hook) {\n          return hook(action, getState);\n        });\n\n        return result;\n      };\n    };\n  };\n}"]},"metadata":{},"sourceType":"script"}