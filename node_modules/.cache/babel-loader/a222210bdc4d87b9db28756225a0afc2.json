{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addActions = addActions;\nexports.resolveReducers = resolveReducers;\nexports.actions = void 0;\n\nvar _middleware = require(\"./middleware\");\n\nvar _defaults = require(\"./defaults\");\n\nvar SEP = '/';\nvar actions = {};\nexports.actions = actions;\n\nfunction addActions(modelName) {\n  var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var effects = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (Object.keys(reducers).length || Object.keys(effects).length) {\n    actions[modelName] = actions[modelName] || {};\n  }\n\n  each(reducers, function (actionName) {\n    actions[modelName][actionName] = actionCreator(modelName, actionName);\n  });\n  each(effects, function (effectName) {\n    if (actions[modelName][effectName]) {\n      throw new Error(\"Action name \\\"\".concat(effectName, \"\\\" has been used! Please select another name as effect name!\"));\n    }\n\n    _defaults.options.addEffect(\"\".concat(modelName).concat(SEP).concat(effectName), effects[effectName]);\n\n    actions[modelName][effectName] = actionCreator(modelName, effectName);\n    actions[modelName][effectName].isEffect = true;\n  });\n}\n\nfunction resolveReducers(modelName) {\n  var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(reducers).reduce(function (acc, cur) {\n    acc[\"\".concat(modelName).concat(SEP).concat(cur)] = reducers[cur];\n    return acc;\n  }, {});\n}\n\nfunction each(obj, callback) {\n  Object.keys(obj).forEach(callback);\n}\n\nfunction actionCreator(modelName, actionName) {\n  return function (data) {\n    return (0, _middleware.dispatch)({\n      type: \"\".concat(modelName).concat(SEP).concat(actionName),\n      data: data\n    });\n  };\n}","map":{"version":3,"sources":["/Users/admin/Desktop/鹤影/newapp/node_modules/_mirrorx@0.2.13@mirrorx/lib/actions.js"],"names":["Object","defineProperty","exports","value","addActions","resolveReducers","actions","_middleware","require","_defaults","SEP","modelName","reducers","arguments","length","undefined","effects","keys","each","actionName","actionCreator","effectName","Error","concat","options","addEffect","isEffect","reduce","acc","cur","obj","callback","forEach","data","dispatch","type"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,UAAR,GAAqBA,UAArB;AACAF,OAAO,CAACG,eAAR,GAA0BA,eAA1B;AACAH,OAAO,CAACI,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AAEA,IAAIC,SAAS,GAAGD,OAAO,CAAC,YAAD,CAAvB;;AAEA,IAAIE,GAAG,GAAG,GAAV;AACA,IAAIJ,OAAO,GAAG,EAAd;AACAJ,OAAO,CAACI,OAAR,GAAkBA,OAAlB;;AAEA,SAASF,UAAT,CAAoBO,SAApB,EAA+B;AAC7B,MAAIC,QAAQ,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAnF;AACA,MAAIG,OAAO,GAAGH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;;AAEA,MAAIb,MAAM,CAACiB,IAAP,CAAYL,QAAZ,EAAsBE,MAAtB,IAAgCd,MAAM,CAACiB,IAAP,CAAYD,OAAZ,EAAqBF,MAAzD,EAAiE;AAC/DR,IAAAA,OAAO,CAACK,SAAD,CAAP,GAAqBL,OAAO,CAACK,SAAD,CAAP,IAAsB,EAA3C;AACD;;AAEDO,EAAAA,IAAI,CAACN,QAAD,EAAW,UAAUO,UAAV,EAAsB;AACnCb,IAAAA,OAAO,CAACK,SAAD,CAAP,CAAmBQ,UAAnB,IAAiCC,aAAa,CAACT,SAAD,EAAYQ,UAAZ,CAA9C;AACD,GAFG,CAAJ;AAGAD,EAAAA,IAAI,CAACF,OAAD,EAAU,UAAUK,UAAV,EAAsB;AAClC,QAAIf,OAAO,CAACK,SAAD,CAAP,CAAmBU,UAAnB,CAAJ,EAAoC;AAClC,YAAM,IAAIC,KAAJ,CAAU,iBAAiBC,MAAjB,CAAwBF,UAAxB,EAAoC,8DAApC,CAAV,CAAN;AACD;;AAEDZ,IAAAA,SAAS,CAACe,OAAV,CAAkBC,SAAlB,CAA4B,GAAGF,MAAH,CAAUZ,SAAV,EAAqBY,MAArB,CAA4Bb,GAA5B,EAAiCa,MAAjC,CAAwCF,UAAxC,CAA5B,EAAiFL,OAAO,CAACK,UAAD,CAAxF;;AAEAf,IAAAA,OAAO,CAACK,SAAD,CAAP,CAAmBU,UAAnB,IAAiCD,aAAa,CAACT,SAAD,EAAYU,UAAZ,CAA9C;AACAf,IAAAA,OAAO,CAACK,SAAD,CAAP,CAAmBU,UAAnB,EAA+BK,QAA/B,GAA0C,IAA1C;AACD,GATG,CAAJ;AAUD;;AAED,SAASrB,eAAT,CAAyBM,SAAzB,EAAoC;AAClC,MAAIC,QAAQ,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAnF;AACA,SAAOb,MAAM,CAACiB,IAAP,CAAYL,QAAZ,EAAsBe,MAAtB,CAA6B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACtDD,IAAAA,GAAG,CAAC,GAAGL,MAAH,CAAUZ,SAAV,EAAqBY,MAArB,CAA4Bb,GAA5B,EAAiCa,MAAjC,CAAwCM,GAAxC,CAAD,CAAH,GAAoDjB,QAAQ,CAACiB,GAAD,CAA5D;AACA,WAAOD,GAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID;;AAED,SAASV,IAAT,CAAcY,GAAd,EAAmBC,QAAnB,EAA6B;AAC3B/B,EAAAA,MAAM,CAACiB,IAAP,CAAYa,GAAZ,EAAiBE,OAAjB,CAAyBD,QAAzB;AACD;;AAED,SAASX,aAAT,CAAuBT,SAAvB,EAAkCQ,UAAlC,EAA8C;AAC5C,SAAO,UAAUc,IAAV,EAAgB;AACrB,WAAO,CAAC,GAAG1B,WAAW,CAAC2B,QAAhB,EAA0B;AAC/BC,MAAAA,IAAI,EAAE,GAAGZ,MAAH,CAAUZ,SAAV,EAAqBY,MAArB,CAA4Bb,GAA5B,EAAiCa,MAAjC,CAAwCJ,UAAxC,CADyB;AAE/Bc,MAAAA,IAAI,EAAEA;AAFyB,KAA1B,CAAP;AAID,GALD;AAMD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addActions = addActions;\nexports.resolveReducers = resolveReducers;\nexports.actions = void 0;\n\nvar _middleware = require(\"./middleware\");\n\nvar _defaults = require(\"./defaults\");\n\nvar SEP = '/';\nvar actions = {};\nexports.actions = actions;\n\nfunction addActions(modelName) {\n  var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var effects = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (Object.keys(reducers).length || Object.keys(effects).length) {\n    actions[modelName] = actions[modelName] || {};\n  }\n\n  each(reducers, function (actionName) {\n    actions[modelName][actionName] = actionCreator(modelName, actionName);\n  });\n  each(effects, function (effectName) {\n    if (actions[modelName][effectName]) {\n      throw new Error(\"Action name \\\"\".concat(effectName, \"\\\" has been used! Please select another name as effect name!\"));\n    }\n\n    _defaults.options.addEffect(\"\".concat(modelName).concat(SEP).concat(effectName), effects[effectName]);\n\n    actions[modelName][effectName] = actionCreator(modelName, effectName);\n    actions[modelName][effectName].isEffect = true;\n  });\n}\n\nfunction resolveReducers(modelName) {\n  var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(reducers).reduce(function (acc, cur) {\n    acc[\"\".concat(modelName).concat(SEP).concat(cur)] = reducers[cur];\n    return acc;\n  }, {});\n}\n\nfunction each(obj, callback) {\n  Object.keys(obj).forEach(callback);\n}\n\nfunction actionCreator(modelName, actionName) {\n  return function (data) {\n    return (0, _middleware.dispatch)({\n      type: \"\".concat(modelName).concat(SEP).concat(actionName),\n      data: data\n    });\n  };\n}"]},"metadata":{},"sourceType":"script"}